<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} | THE SIFT{% else %}THE SIFT{% endif %}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>

    <header class="main-header">
        <div class="site-wrapper header-flex">
            <a href="{{ site.baseurl }}/" class="logo">THE SIFT</a>
            <nav class="main-nav">
                <a href="{{ site.baseurl }}/">HOME</a>
                <button id="theme-cycle">MOOD</button>
            </nav>
        </div>
    </header>

    <main class="site-wrapper">
        <article class="post-content">
            {{ content }}
        </article>
    </main>

    <footer class="main-footer">
        <div class="footer-inner">
            <div class="footer-divider"></div>
            <ul class="footer-legal-links" style="display:flex; justify-content:center; gap:30px; list-style:none; padding:0; margin:30px 0;">
                <li><a href="{{ '/privacy-policy' | relative_url }}" style="text-decoration:none; color:var(--muted-text); font-weight:700; font-size:0.8rem;">PRIVACY POLICY</a></li>
                <li><a href="{{ '/terms' | relative_url }}" style="text-decoration:none; color:var(--muted-text); font-weight:700; font-size:0.8rem;">TERMS OF USE</a></li>
            </ul>
            <p style="font-size:0.7rem; opacity:0.6;">&copy; 2026 THE SIFT. ALL RIGHTS RESERVED.</p>
        </div>
    </footer>

    <script>
        const themes = ['light', 'dark', 'graphite'];
        let currentIdx = themes.indexOf(localStorage.getItem('theme') || 'light');
        document.documentElement.setAttribute('data-theme', themes[currentIdx]);

        document.getElementById('theme-cycle').addEventListener('click', () => {
            currentIdx = (currentIdx + 1) % themes.length;
            document.documentElement.setAttribute('data-theme', themes[currentIdx]);
            localStorage.setItem('theme', themes[currentIdx]);
        });
    </script>
</body>
</html>
